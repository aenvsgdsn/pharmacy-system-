# Project Structure Overview

## Clean Organization

The Pharmacy Management System is now organized into clear, logical folders:

```
pharmacy/
│
├── src/main/java/com/pharmacy/        ← Source Code
│   ├── PharmacyManagementSystem.java   # Application entry point
│   │
│   ├── model/                          # Data models
│   │   ├── Product.java                # Product entity
│   │   └── Sale.java                   # Sale/Bill entity
│   │
│   ├── database/                       # Database layer
│   │   └── DatabaseManager.java        # SQLite manager
│   │
│   ├── dao/                            # Data Access Objects
│   │   ├── ProductDAO.java
│   │   ├── SaleDAO.java
│   │   └── SettingsDAO.java
│   │
│   ├── gui/                            # User Interface
│   │   ├── MainWindow.java
│   │   ├── ThemeManager.java
│   │   ├── panels/                     # Tab panels
│   │   │   ├── DashboardPanel.java
│   │   │   ├── ProductsPanel.java
│   │   │   ├── SalesPanel.java
│   │   │   └── SettingsPanel.java
│   │   └── dialogs/                    # Dialog windows
│   │       ├── AddProductDialog.java
│   │       ├── EditProductDialog.java
│   │       ├── GenerateBillDialog.java
│   │       ├── ViewProductsDialog.java
│   │       ├── ViewSalesDialog.java
│   │       └── ChangePasswordDialog.java
│   │
│   └── util/                           # Utilities
│       └── DateUtil.java
│
├── target/                             ← Build Output
│   └── pharmacy-management-1.0.0-all.jar  # Executable JAR
│
├── tools/                              ← Utility Scripts
│   ├── FixDatabase.java                # Database repair
│   ├── ResetSerialCounter.java         # Serial reset
│   └── TestDatabaseConnection.java     # Connection test
│
├── docs/                               ← Documentation
│
├── pom.xml                             ← Maven configuration
├── run.bat                             ← Quick start (Windows)
└── README.md                           ← Complete documentation
```

## Folder Purpose

### `src/` - Source Code
Contains all Java source files organized by layer:

- **model/** - Data classes (Product, Sale) that represent database entities
- **database/** - DatabaseManager handles SQLite connections and schema
- **dao/** - Data Access Objects for CRUD operations (ProductDAO, SaleDAO, SettingsDAO)
- **gui/** - All Swing GUI components
  - Main window with 4 tabs
  - Individual panels for each tab
  - Dialog windows for operations
- **util/** - Helper utilities (DateUtil for date formatting)

### `target/` - Build Output
Generated by Maven during build:
- `.jar` files (compiled code)
- `pharmacy-management-1.0.0-all.jar` - Fat JAR with all dependencies (run with `java -jar`)
- Compiled classes

### `tools/` - Utility Tools
Advanced utilities for database maintenance:
- **FixDatabase.java** - Repair database issues
- **ResetSerialCounter.java** - Reset product ID counter
- **TestDatabaseConnection.java** - Test database connectivity

### `docs/` - Documentation
For future documentation and guides

## Technology Stack

```
GUI Layer          → Swing + FlatLaf (Modern theme)
↓
Business Logic     → DAOs (ProductDAO, SaleDAO, SettingsDAO)
↓
Data Access        → DatabaseManager + SQLite JDBC
↓
Database           → SQLite (pharmacy.db)
```

## How Code Flows

```
User Action (GUI)
    ↓
MainWindow / Panel / Dialog (Swing)
    ↓
DAO Class (ProductDAO / SaleDAO / SettingsDAO)
    ↓
DatabaseManager (Connection manager)
    ↓
SQLite Database (pharmacy.db)
    ↓
Data returned back up the chain
```

## File Organization Rules

1. **One responsibility per file** - Each class has single purpose
2. **GUI separated from logic** - GUI doesn't directly query database
3. **DAO layer isolation** - All database operations through DAOs
4. **No utility files in root** - All tools in `tools/` folder
5. **Keep it flat** - No unnecessary nesting

## Building & Running

```bash
# Build
mvn -DskipTests clean package

# Run
java -jar target/pharmacy-management-1.0.0-all.jar

# Or use quick-start
./run.bat
```

## Database Location

- **Primary**: `./pharmacy.db` (current directory)
- **Fallback**: `C:\Users\<You>\.pharmacy-management\pharmacy.db` (home directory)

## Key Classes at a Glance

| Class | Purpose |
|-------|---------|
| PharmacyManagementSystem | Application entry point, launches GUI |
| MainWindow | Main application window with 4 tabs |
| DashboardPanel | Analytics and KPIs |
| ProductsPanel | Product listing, search, filters |
| SalesPanel | Sales history and bill generation |
| SettingsPanel | Theme and password settings |
| ProductDAO | All product database operations |
| SaleDAO | All sales database operations |
| SettingsDAO | Password and settings management |
| DatabaseManager | SQLite connection and initialization |
| Product | Product entity model |
| Sale | Sale/Bill entity model |

---

**Clean, organized, production-ready structure!**
